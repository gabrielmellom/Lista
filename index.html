<!DOCTYPE html>
<html>
<head>
  <title>Lista de tarefas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
 code
h1 {
  text-align: center;
}

.container {
  max-width: 400px;
  margin: 0 auto;
  padding: 20px;
  box-sizing: border-box;
}

.task-input {
  width: 70%;
  padding: 10px;
  margin-bottom: 10px;
  box-sizing: border-box;
}

.task-button {
  display: inline-block;
  width: 28%;
  padding: 10px;
  background-color: #4CAF50;
  color: white;
  border: none;
  cursor: pointer;
  box-sizing: border-box;
}

.task-list {
  list-style-type: none;
  padding: 0;
}

.task-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px;
  background-color: #f9f9f9;
  border: 1px solid #ddd;
  margin-bottom: 5px;
}

.task-item button {
  padding: 5px 10px;
  background-color: #f44336;
  color: white;
  border: none;
  cursor: pointer;
}
  </style>
</head>
<body>
  <div class="container">
    <h1>Lista de tarefas</h1>

<div>
  <input type="text" id="taskInput" class="task-input" placeholder="Nova tarefa">
  <button onclick="adicionarTarefa()" class="task-button">Adicionar</button>
</div>

<ul id="taskList" class="task-list">
</ul>
  </div>
  <script>
    const listaTarefas = document.getElementById("taskList");
    let tarefas = [];

    carregarTarefas();

    function carregarTarefas() {
      const tarefasSalvas = localStorage.getItem("tarefas");
      if (tarefasSalvas) {
        tarefas = JSON.parse(tarefasSalvas);
        renderizarTarefas();
        anexarOuvintesDeRemocao();
      }
    }

    function adicionarTarefa() {
      const inputTarefa = document.getElementById("taskInput");

      if (inputTarefa.value !== "") {
        const novaTarefa = inputTarefa.value;

        if (!verificarDuplicidadeTarefa(novaTarefa)) {
          tarefas.push(novaTarefa);
          salvarTarefas();
          renderizarTarefa(novaTarefa);

          inputTarefa.value = "";
        } else {
          alert("Essa tarefa já existe na lista!");
        }
      }
    }

    function verificarDuplicidadeTarefa(nomeTarefa) {
      return tarefas.includes(nomeTarefa);
    }

    function salvarTarefas() {
      localStorage.setItem("tarefas", JSON.stringify(tarefas));
    }

    function renderizarTarefas() {
      for (let i = 0; i < tarefas.length; i++) {
        renderizarTarefa(tarefas[i]);
      }
    }

    function renderizarTarefa(nomeTarefa) {
      const itemTarefa = document.createElement("li");
      itemTarefa.className = "task-item";
      itemTarefa.innerHTML = nomeTarefa;

      const botaoRemover = document.createElement("button");
      botaoRemover.innerHTML = "Remover";
      botaoRemover.className = "remove-button"; // Adicionei uma classe aos botões de remoção
      botaoRemover.onclick = removerTarefa; // Usei a mesma função para remoção em todos os botões

      itemTarefa.appendChild(botaoRemover);
      listaTarefas.appendChild(itemTarefa);
    }

    function anexarOuvintesDeRemocao() {
      const botoesRemover = document.getElementsByClassName("remove-button");
      for (let i = 0; i < botoesRemover.length; i++) {
        botoesRemover[i].onclick = removerTarefa;
      }
    }

    function removerTarefa() {
      const itemTarefa = this.parentNode;
      const nomeTarefa = itemTarefa.innerHTML;
      tarefas = tarefas.filter(tarefa => tarefa !== nomeTarefa);
      itemTarefa.parentNode.removeChild(itemTarefa);
      salvarTarefas();
    }
  </script>
</body>
</html>